(()=>{"use strict";function e(e,a){a.load(e,(function(e,t,o){"success"===t?(a.addClass("fade-in-fwd"),setTimeout((function(){a.removeClass("fade-in-fwd")}),300)):console.error("載入內容時發生錯誤:",t)}))}function a(e){$(".faq_question_content ul > li").not(":first").each(((a,t)=>{$(t).data("theme")===e?$(t).addClass("current"):$(t).removeClass("current")}))}function t(t){return new Promise(((o,n)=>{const r=t.has("category"),i=t.has("theme"),c=$("#faq_question_block");r||i?(e("/faq/"+t.get("category")+".html",c),setTimeout((function(){const n=$("#faq_question_list");if(i)e("/faq/"+t.get("category")+"/"+t.get("theme")+".html",n),a(t.get("theme")),o();else switch(t.get("category")){case"beginner-guide":e("/faq/beginner-guide/become-a-member.html",n),a("become-a-member"),o();break;case"account-problem":e("/faq/account-problem/common-problem.html",n),a("common-problem"),o();break;case"prepayment-problem":e("/faq/prepayment-problem/prepayment.html",n),a("prepayment"),o();break;case"printing-guide":e("/faq/printing-guide/finalization-guidelines.html",n),a("finalization-guidelines"),o();break;case"file-transmission-problem":e("/faq/file-transmission-problem/file-problem.html",n),a("file-problem"),o();break;case"other-issues":e("/faq/other-issues/technical-support.html",n),a("technical-support"),o();break;default:e("/faq/common-problem.html",n),o()}}),100)):(e("/faq/common-problem.html",c),o())}))}$(window).on("load",(function(){t(new URLSearchParams(window.location.search)).then((()=>{new Promise(((e,a)=>{$(".faq_navigation_item").on("click",(e=>{!function(e,a,t,o){const n={dataName:a.data(t)},r=e+"?"+t+"="+n.dataName;history.pushState(n,"",r)}("/faq.html",$(e.currentTarget),"category"),t(new URLSearchParams(window.location.search))})),e()}))})).catch((e=>{console.error("網頁加載失敗:",e)})),$(window).on("popstate",(function(e){t(new URLSearchParams(window.location.search))}))}))})();