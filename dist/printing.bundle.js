Vue.component("process",{template:"#print-finishing-services-template",data:()=>({isOpen:!1,guidelines:null}),props:["process_data","process_option","process_index"],computed:{allWeight(){const t=this.process_option.map((t=>t.w)).flat();return[...new Set(t)].join(", ")},popupMarginLeft(){return`calc((-100% - 20px) * ${this.process_index%5})`}},methods:{toggleClass(t,e){t.classList.contains(e)?t.classList.remove(e):t.classList.add(e)},isPopup(t){const e=t.currentTarget;document.querySelectorAll(".print-finishing-services_item.current").forEach((function(t){t!==e&&t.classList.remove("current")}));const n=e.nextElementSibling;document.querySelectorAll(".print-finishing-services_item_popup.active").forEach((function(t){t!==n&&t.classList.remove("active")})),this.toggleClass(e,"current"),this.toggleClass(n,"active")},noPopup(t){const e=t.currentTarget;this.toggleClass(e.closest(".print-finishing-services_item_popup"),"active"),this.toggleClass(t.currentTarget.parentNode.parentNode.querySelector(".current"),"current")},getOptionName(t){return this.process_data.variants.find((e=>e.id===this.process_option[t])).variant_name},getOptionIntro(t){return this.process_data.variants.find((e=>e.id===this.process_option[t])).introduction},getOptionGuidelines(t){const e=this;$.ajax({url:`/faq/printing-guide/print-finishing-guidelines/${t}.html`,dataType:"html",success:function(t){e.guidelines=t},error:t=>{console.error("請求出錯：",t)}})}},mounted:function(){}}),new Vue({el:"#print-finishing-services",data:()=>({productData:null,processData:null}),methods:{switchProductContent:t=>new Promise(((e,n)=>{null!==t&&t.length?$.ajax({url:"/Product/allProduct.json",dataType:"json",success:function(s){s.forEach((n=>{n.products.forEach((s=>{s.id&&s.id.toLowerCase()===t&&e(`/Product/${n.id}/${s.id}/`)}))})),n(new Error("Product not found"))}}):n(new Error("Product not found"))})),getProcessDataById(t){return this.processData.find((e=>e.id===t))}},mounted:function(){const t=new URLSearchParams(window.location.search);this.switchProductContent(t.get("product").toLowerCase()).then((t=>{urlLocation=t;var e=this;$.ajax({url:urlLocation+"intro.json",dataType:"json",success:function(t){e.productData=t}}),$.ajax({url:"/Product/processing.json",dataType:"json",success:function(t){e.processData=t}})})),document.addEventListener("click",this.handleDocumentClick)},beforeDestroy(){document.removeEventListener("click",this.handleDocumentClick)}});